import{w as $,x as p,y as E,z as f,D as u,F as R,u as b,j as e,I as j,h as T,U as C,Z as L,r as k,J as y,K as O,N as z,O as F}from"./vendor-Dlurv7c2.js";import{C as v,c as I}from"./index-BTNEfZn4.js";import{B as w}from"./badge-Do4I6dP2.js";import{g as D}from"./getDateFnsLocale.utils-oPpvrHpS.js";const P=([t,a],s)=>{const l=m=>$(u(m,"yyyy/MM/dd",new Date)),i=l(t),o=a?l(a):new Date;if(!p(i)||!p(o))return"";const{years:c=0,months:d=0}=E({start:i,end:o});if(!c&&!d){const m=f({months:1},{locale:s,format:["months"]}).replace(/^\s*1\s+/,"");return`<1 ${s?.code?.toLowerCase?.().startsWith("ru")?"месяца":m}`}return f({years:c,months:d},{locale:s,format:["years","months"]})},S=(t,a)=>{const[s,l]=t,i=m=>u(m,"yyyy/MM/dd",new Date),o=m=>R(m,"MM.yyyy"),c=i(s);if(!p(c))return"";if(!l)return`${o(c)} - ${a}`;const d=i(l);return`${o(c)} - ${p(d)?o(d):a}`},Y=({experience:t})=>{const{i18n:a,t:s}=b(),l=D(a.resolvedLanguage),i=P(t.period,l),{now:o}=s("experience",{returnObjects:!0});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-2xl font-bold text-gradient",children:t.company}),e.jsx("h4",{className:"text-xl font-semibold text-primary",children:t.position})]}),e.jsxs(w,{variant:"secondary",className:"self-start bg-primary/10 text-primary border-primary/20",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),i]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-muted-foreground mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"w-4 h-4"}),e.jsx("span",{children:t.location})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"w-4 h-4"}),e.jsx("span",{children:S(t.period,o)})]})]})]})},B=({responsibilityText:t,responsibilities:a})=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(C,{className:"w-4 h-4 text-primary"}),e.jsx("h6",{className:"font-medium text-sm",children:t})]}),e.jsx("ul",{className:"space-y-2",children:a.map((s,l)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-accent rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{className:"text-muted-foreground text-sm leading-relaxed",children:s})]},l))})]}),U=({technologiesText:t,technologies:a})=>e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium text-sm mb-2",children:t}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(s=>e.jsx(w,{variant:"outline",className:"text-primary border-primary/30 bg-primary/5",children:s},s))})]}),W=({responsibilityText:t,technologiesText:a,project:s})=>e.jsxs("div",{className:"border-l-4 border-accent pl-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(L,{className:"w-5 h-5 text-accent"}),e.jsx("h5",{className:"font-semibold text-lg text-foreground",children:s.name})]}),e.jsx("p",{className:"text-muted-foreground mb-4 leading-relaxed",children:s.description}),e.jsx(B,{responsibilityText:t,responsibilities:s.responsibilities}),e.jsx(U,{technologiesText:a,technologies:s.technologies})]}),g=({experience:t,index:a,responsibilityText:s,technologiesText:l})=>{const{projects:i}=t;return e.jsxs(v,{className:"glass-effect p-8 transition-all duration-500 hover:shadow-glow animate-slide-up border-2",style:{animationDelay:`${a*.2}s`},children:[e.jsx(Y,{experience:t}),e.jsx("div",{className:"space-y-6",children:i.map((o,c)=>e.jsx(W,{project:o,responsibilityText:s,technologiesText:l},c))})]})},M=k.forwardRef(({className:t,orientation:a="horizontal",decorative:s=!0,...l},i)=>e.jsx(y,{ref:i,decorative:s,orientation:a,className:I("shrink-0 bg-border",a==="horizontal"?"h-px w-full":"h-full w-px",t),...l}));M.displayName=y.displayName;const N=(t,a)=>{const s=r=>u(r,"yyyy/MM/dd",new Date),l=t.map(({period:[r,n]})=>({start:s(r),end:n?s(n):new Date})).filter(({start:r,end:n})=>p(r)&&p(n)&&r<=n).sort((r,n)=>+r.start-+n.start);if(!l.length)return"";const i=[];for(const r of l){const n=i[i.length-1];!n||r.start>n.end?i.push({...r}):r.end>n.end&&(n.end=r.end)}let o=0,c=0;for(const{start:r,end:n}of i){const h=O(n,r);o+=h;const x=z(r,h);c+=F(n,x)}c>=15&&(o+=1);const d=Math.floor(o/12),m=o%12;if(!d&&!m){const r=f({months:1},{locale:a,format:["months"]}).replace(/^\s*1\s+/,"");return`<1 ${a?.code?.toLowerCase?.().startsWith("ru")?"месяца":r}`}return f({years:d,months:m},{locale:a,format:["years","months"]})},V=()=>{const{t,i18n:a}=b(),{responsibility:s,technologies:l,total:{main:i,more:o},main:c,more:d}=t("experience",{returnObjects:!0}),m=D(a.resolvedLanguage),r=N(c.data,m),n=d?.data?.length?N(d.data,m):null;return e.jsx("section",{id:"experience",className:"py-20 bg-gradient-to-b from-secondary/20 to-background",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gradient mb-4 pb-4",children:c.title}),e.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:c.subtitle})]}),e.jsx("div",{className:"max-w-4xl mx-auto mb-12",children:e.jsx(v,{className:"glass-effect p-6 border-2 bg-primary/5",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-base font-semibold text-primary mb-1",children:i.title}),e.jsx("p",{className:"text-3xl font-bold text-gradient",children:r}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:i.description})]}),n&&e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-base font-semibold text-primary mb-1",children:o.title}),e.jsx("p",{className:"text-3xl font-bold text-gradient",children:n}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:o.description})]})]})})}),e.jsx("div",{className:"max-w-4xl mx-auto space-y-8",children:c.data.map((h,x)=>e.jsx(g,{experience:h,index:x,responsibilityText:s,technologiesText:l},`main-${x}`))}),d?.data?.length?e.jsxs("div",{className:"max-w-4xl mx-auto mt-12",children:[e.jsxs("div",{className:"relative my-10",children:[e.jsx(M,{}),e.jsxs("span",{className:"absolute left-1/2 -translate-x-1/2 -top-3 bg-background px-3 text-xs md:text-sm text-muted-foreground whitespace-nowrap",children:[d.title,n?` · ${n}`:""]})]}),d.subtitle&&e.jsx("p",{className:"text-center text-muted-foreground mb-8 text-balance",children:d.subtitle}),e.jsx("div",{className:"space-y-8",children:d.data.map((h,x)=>e.jsx(g,{experience:h,index:c.data.length+x,responsibilityText:s,technologiesText:l},`more-${x}`))})]}):null]})})};export{V as default};
